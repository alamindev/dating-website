$(document).ready(function(){$(".noUi-handle").on("click",function(){$(this).width(50)});var e=document.getElementById("slider-range"),t=[],a=$("#setting-form").data("min"),i=$("#setting-form").data("max");t=""!=a&&""!=i?[a,i]:[18,90],noUiSlider.create(e,{start:t,step:1,range:{min:[18],max:[90]},connect:!0,format:wNumb({decimals:0})}),e.noUiSlider.on("update",function(e,t){document.getElementById("slider-range-value1").innerHTML=e[0],document.getElementById("slider-range-value2").innerHTML=e[1];var a=$("#min-value"),i=$("#max-value");a.val(e[0]),i.val(e[1])})}),$("#location__icon").click(function(){$(".location__search").toggle()}),$(".range").change(function(){$("#distance").val($(this).val())});var uploadedImageURL="{!! avatar($user->avatar, $user->gender) !!}";$(document).ready(function(){var e=$("meta[name=csrf_token]").attr("content");$("#profile"),$("#profile_details"),$("#password_tab"),$("#location_tab"),$("#interest_tab"),$("#preferences_tab");location.search||a("?tab=tab-1");var t=$(".tab__item");function a(e){var t=window.location.protocol+"//"+window.location.host+window.location.pathname+e;return window.history.pushState({path:t},"",t)}$("ul.tab__items li.tab__item").removeClass("tab__active"),$(".tab__content").removeClass("current"),Array.from(t).forEach(function(e){var t,a=$(e).data("tab");t={},$.each(document.location.search.substr(1).split("&"),function(e,a){var i=a.split("=");t[i[0].toString()]=i[1].toString()}),t.tab==a&&($(e).addClass("tab__active"),$("#"+a).addClass("current"))}),$("ul.tab__items li").click(function(){var e=$(this).attr("data-tab");$("ul.tab__items li.tab__item").removeClass("tab__active"),$(".tab__content").removeClass("current"),a("?tab="+e),$(this).addClass("tab__active"),$("#"+e).addClass("current")});var i=$(".loader"),s=$(".username-error");$("#register-setting-username").on("keyup",function(t){var a=$(this).val();i.empty(),s.empty(),""!=a?a.trim().length>=6?(s.empty(),$.ajax({url:ajax_url,beforeSend:function(){$('<div class="lds-ellipsis" style="height: 40px; margin-top: -20px;"></div>').html("<div></div><div></div><div></div><div></div>").appendTo(i),s.empty()},data:{action:"check_username_setting",username:a,_token:e},dataType:"JSON",type:"POST",success:function(e){s.empty(),"error"==e.status?($("#tab-2-profile").attr("disabled",!0),$('<div class="text-danger"></div>').html("Username already exist! Try again.").appendTo(s)):"success"==e.status?($("#tab-2-profile").removeAttr("disabled"),$('<div class="text-success"></div>').html("Great! You'r Choose good username.").appendTo(s)):"you"==e.status&&($("#tab-2-profile").removeAttr("disabled"),$('<div class="text-success"></div>').html("Your current username!").appendTo(s))},complete:function(){i.empty()}})):$('<div class="text-danger"></div>').html("Please enter at least 6 charecter!").appendTo(s):(i.empty(),s.empty())});var r=$("#register-password"),n=$("#register-password-confirm"),d=$("#register-password-old"),o=$(".password-error"),c=$(".c-password-error"),l=$(".old-password-error");i=$(".loader");d.on("keyup",function(){var t=$(this).val();i.empty(),t.length>=6?(l.empty(),$.ajax({url:ajax_url,beforeSend:function(){$('<div class="lds-ellipsis" style="height: 40px; margin-top: -20px;"></div>').html("<div></div><div></div><div></div><div></div>").appendTo(i),l.empty()},data:{action:"check_password",password:t,_token:e},dataType:"JSON",type:"POST",success:function(e){l.empty(),"error"==e.status?(r.attr("disabled",!0),n.attr("disabled",!0),$("#tab-3-password").attr("disabled",!0),$('<div class="text-danger"></div>').html("Old password doesn't match!").appendTo(l)):(r.removeAttr("disabled"),n.removeAttr("disabled"),$("#tab-3-password").removeAttr("disabled"),$('<div class="text-success"></div>').html("Password match!").appendTo(l))},complete:function(){i.empty()}})):(l.empty(),$('<div class="text-danger"></div>').html("Please enter at least 6 charecter!").appendTo(l))}),r.on("keyup",function(e){var t=$(this).val();t.length>=6?""!=t?o.empty():o.html('<div class="text-danger">OPS!  Password is required!</div>'):(o.empty(),o.html('<div class="text-danger">OPS!  Password must be 6 charecter!</div>'))}),n.on("keyup",function(e){var t=$(this).val();t.length>=6?""!=t?(o.empty(),r.val()!=t?c.html('<div class="text-danger">OPS! Confirm Password does not match!</div>'):c.empty()):c.html('<div class="text-danger">OPS! Confirm Password is required!</div>'):(c.empty(),c.html('<div class="text-danger">OPS! Confirm Password must be 6 charecter!</div>'))}),$("#tab-3-password").on("click",function(){var e=!0;if(d.val().length>=6){if(""==r.val())return o.html('<div class="text-danger">OPS!  Password is required!</div>'),!1;if(""==n.val())return c.html('<div class="text-danger">OPS! Confirm Password is required!</div>'),!1;if(r.val()!=n.val())return c.html('<div class="text-danger">OPS! Confirm Password does not match!</div>'),!1}return e});var v=$("#register-address"),m=$("#register-country"),p=$(".address-error"),u=$(".country-error");v.on("keyup",function(e){""==$(this).val()?p.html('<div class="text-danger">OPS! Address field is required!</div>'):p.empty()}),m.on("change",function(e){""==$(this).val()?u.html('<div class="text-danger">OPS! Country is required!</div>'):u.empty()}),$("#tab-4-interest").click(function(e){var t=!0;return""==v.val()&&(p.html('<div class="text-danger">OPS! Address field is required!</div>'),t=!1),""==m.val()&&(u.html('<div class="text-danger">OPS! Country is required!</div>'),t=!1),t});var h=$("#gender"),f=$("#preference"),_=$(".gender-error"),y=$(".preference-error");h.on("change",function(e){""==$(this).val()?_.html('<div class="text-danger">OPS! Gender is required!</div>'):_.empty()}),f.on("change",function(e){""==$(this).val()?y.html('<div class="text-danger">OPS! Preference is required!</div>'):y.empty()}),$("#tab-2-profile").click(function(e){var t=!0;return""==h.val()&&(_.html('<div class="text-danger">OPS! Gender is required!</div>'),t=!1),""==f.val()&&(y.html('<div class="text-danger">OPS! Preference is required!</div>'),t=!1),t});var g=[],x=$(".selected__interest"),b=$("#register-interests-input"),P=$("#search_interest"),S=$(".search_interest_available"),w=(i=$(".loader"),$(".interest-error"));P.on("keyup",function(t){var a=$(this).val();i.empty(),w.empty(),S.empty(),""!=a?(S.empty(),$.ajax({url:ajax_url,beforeSend:function(){$('<div class="lds-ellipsis" style="height: 40px; margin-top: -20px;"></div>').html("<div></div><div></div><div></div><div></div>").appendTo(i),S.empty()},data:{action:"search_interest",search:a,_token:e},dataType:"JSON",type:"POST",success:function(e){if(S.empty(),$.isEmptyObject(e.data)&&$('<div class="text-center text-danger"></div>').html("Interest not found!").appendTo(S),"success"===e.status){var t=e.data.filter(function(e){return!g.some(function(t){return e.id===t.id})});$.map(t,function(e){$('<div class="interest__item" data-id="'+e.id+'"></div>').html('<i class="'+e.icon+'"></i>                                            <span>'+e.text+"</span>").appendTo(S)})}},complete:function(){i.empty()}})):(i.empty(),S.empty())}),$.ajax({url:ajax_url,data:{action:"load_user_interest",id:logged_id,_token:e},dataType:"JSON",type:"POST",context:this,success:function(e){"success"===e.status&&(b.val(e.interest_id.join(",")),g=e.interest,$.map(e.interest,function(e){$('<div class="interest__item_selected"></div>').html('<i data-id="'+e.id+'" class="cross__interest_btn fa fa-times"></i><i class="'+e.icon+'"></i>                                <span>'+e.text+"</span>").appendTo(x)}),$(".cross__interest_btn").click(function(){b.val("");var e=$(this).data("id");if(e){var t=g.find(t=>t.id===e),a=g.indexOf(t);g.splice(a,1),$(this).parent().remove();var i=g.map(e=>e.id);b.val(i.join(",")),$('<div class="interest__item" data-id="'+t.id+'"></div>').html('<i class="'+t.icon+'"></i>                                    <span>'+t.text+"</span>").appendTo(S)}}))}}),$(document).on("click",".interest__item",function(){var t=$(this).data("id");$.ajax({url:ajax_url,data:{action:"interest_by_id",id:t,_token:e},dataType:"JSON",type:"POST",context:this,success:function(e){"success"===e.status&&($(this).remove(),w.empty(),g.push(e.data)),setTimeout(()=>{var e=g;if(g.filter(function(t){return e.findIndex(e=>e.id==t.id)<=-1&&e.push(t),null}),!$.isEmptyObject(e)){x.empty();var t=[];$.map(e,function(e){t.push(e.id),$('<div class="interest__item_selected"></div>').html('<i data-id="'+e.id+'" class="cross__interest_btn fa fa-times"></i><i class="'+e.icon+'"></i>                                        <span>'+e.text+"</span>").appendTo(x)}),b.val(t.join(",")),$(".cross__interest_btn").click(function(){b.val("");var e=$(this).data("id");if(e){var t=g.find(t=>t.id===e),a=g.indexOf(t);g.splice(a,1),$(this).parent().remove();var i=g.map(e=>e.id);b.val(i.join(",")),$('<div class="interest__item" data-id="'+t.id+'"></div>').html('<i class="'+t.icon+'"></i>                                            <span>'+t.text+"</span>").appendTo(S)}})}},50)}})}),$("#tab-5-interest").click(function(e){var t=!0;return""==b.val()&&(w.html('<div class="text-danger">OPS! Interest is required!</div>'),t=!1),t})});
