$(document).ready(function(){$(".noUi-handle").on("click",function(){$(this).width(50)});var e=document.getElementById("slider-range"),t=[],a="{{ $user->min_age }}",i="{{ $user->max_age }}";t=[a,i],noUiSlider.create(e,{start:t,step:1,range:{min:[18],max:[90]},connect:!0,format:wNumb({decimals:0})}),e.noUiSlider.on("update",function(e,t){document.getElementById("slider-range-value1").innerHTML=e[0],document.getElementById("slider-range-value2").innerHTML=e[1];var a=$("#min-value"),i=$("#max-value");a.val(e[0]),i.val(e[1])})}),$("#location__icon").click(function(){$(".location__search").toggle()}),$(".range").change(function(){$("#distance").val($(this).val())});var uploadedImageURL="{!! avatar($user->avatar, $user->gender) !!}";$(document).ready(function(){var e=$("meta[name=csrf_token]").attr("content");$("ul.tab__items li").click(function(){var e=$(this).attr("data-tab");$("ul.tab__items li.tab__item").removeClass("tab__active"),$(".tab__content").removeClass("current"),$(this).addClass("tab__active"),$("#"+e).addClass("current")});var t=$(".loader"),a=$(".username-error");$("#register-setting-username").on("keyup",function(i){var s=$(this).val();t.empty(),a.empty(),""!=s?s.trim().length>=6?(a.empty(),$.ajax({url:ajax_url,beforeSend:function(){$('<div class="lds-ellipsis" style="height: 40px; margin-top: -20px;"></div>').html("<div></div><div></div><div></div><div></div>").appendTo(t),a.empty()},data:{action:"check_username_setting",username:s,_token:e},dataType:"JSON",type:"POST",success:function(e){a.empty(),"error"==e.status?($("#tab-2-profile").attr("disabled",!0),$('<div class="text-danger"></div>').html("Username already exist! Try again.").appendTo(a)):"success"==e.status?($("#tab-2-profile").removeAttr("disabled"),$('<div class="text-success"></div>').html("Great! You'r Choose good username.").appendTo(a)):"you"==e.status&&($("#tab-2-profile").removeAttr("disabled"),$('<div class="text-success"></div>').html("Your current username!").appendTo(a))},complete:function(){t.empty()}})):$('<div class="text-danger"></div>').html("Please enter at least 6 charecter!").appendTo(a):(t.empty(),a.empty())});var i=$("#register-password"),s=$("#register-password-confirm"),r=$("#register-password-old"),n=$(".password-error"),d=$(".c-password-error"),c=$(".old-password-error");t=$(".loader");r.on("keyup",function(){var a=$(this).val();t.empty(),a.length>=6?(c.empty(),$.ajax({url:ajax_url,beforeSend:function(){$('<div class="lds-ellipsis" style="height: 40px; margin-top: -20px;"></div>').html("<div></div><div></div><div></div><div></div>").appendTo(t),c.empty()},data:{action:"check_password",password:a,_token:e},dataType:"JSON",type:"POST",success:function(e){c.empty(),"error"==e.status?(i.attr("disabled",!0),s.attr("disabled",!0),$("#tab-3-password").attr("disabled",!0),$('<div class="text-danger"></div>').html("Old password doesn't match!").appendTo(c)):(i.removeAttr("disabled"),s.removeAttr("disabled"),$("#tab-3-password").removeAttr("disabled"),$('<div class="text-success"></div>').html("Password match!").appendTo(c))},complete:function(){t.empty()}})):(c.empty(),$('<div class="text-danger"></div>').html("Please enter at least 6 charecter!").appendTo(c))}),i.on("keyup",function(e){var t=$(this).val();t.length>=6?""!=t?n.empty():n.html('<div class="text-danger">OPS!  Password is required!</div>'):(n.empty(),n.html('<div class="text-danger">OPS!  Password must be 6 charecter!</div>'))}),s.on("keyup",function(e){var t=$(this).val();t.length>=6?""!=t?(n.empty(),i.val()!=t?d.html('<div class="text-danger">OPS! Confirm Password does not match!</div>'):d.empty()):d.html('<div class="text-danger">OPS! Confirm Password is required!</div>'):(d.empty(),d.html('<div class="text-danger">OPS! Confirm Password must be 6 charecter!</div>'))}),$("#tab-3-password").on("click",function(){var e=!0;if(r.val().length>=6){if(""==i.val())return n.html('<div class="text-danger">OPS!  Password is required!</div>'),!1;if(""==s.val())return d.html('<div class="text-danger">OPS! Confirm Password is required!</div>'),!1;if(i.val()!=s.val())return d.html('<div class="text-danger">OPS! Confirm Password does not match!</div>'),!1}return e});var l=$("#register-address"),o=$("#register-country"),v=$(".address-error"),u=$(".country-error");l.on("keyup",function(e){""==$(this).val()?v.html('<div class="text-danger">OPS! Address field is required!</div>'):v.empty()}),o.on("change",function(e){""==$(this).val()?u.html('<div class="text-danger">OPS! Country is required!</div>'):u.empty()}),$("#tab-4-interest").click(function(e){var t=!0;return""==l.val()&&(v.html('<div class="text-danger">OPS! Address field is required!</div>'),t=!1),""==o.val()&&(u.html('<div class="text-danger">OPS! Country is required!</div>'),t=!1),t});var m=$("#gender"),p=$("#preference"),h=$(".gender-error"),f=$(".preference-error");m.on("change",function(e){""==$(this).val()?h.html('<div class="text-danger">OPS! Gender is required!</div>'):h.empty()}),p.on("change",function(e){""==$(this).val()?f.html('<div class="text-danger">OPS! Preference is required!</div>'):f.empty()}),$("#tab-2-profile").click(function(e){var t=!0;return""==m.val()&&(h.html('<div class="text-danger">OPS! Gender is required!</div>'),t=!1),""==p.val()&&(f.html('<div class="text-danger">OPS! Preference is required!</div>'),t=!1),t});var _=[],y=$(".selected__interest"),g=$("#register-interests-input"),x=$("#search_interest"),b=$(".search_interest_available"),P=(t=$(".loader"),$(".interest-error"));x.on("keyup",function(a){var i=$(this).val();t.empty(),P.empty(),b.empty(),""!=i?(b.empty(),$.ajax({url:ajax_url,beforeSend:function(){$('<div class="lds-ellipsis" style="height: 40px; margin-top: -20px;"></div>').html("<div></div><div></div><div></div><div></div>").appendTo(t),b.empty()},data:{action:"search_interest",search:i,_token:e},dataType:"JSON",type:"POST",success:function(e){if(b.empty(),$.isEmptyObject(e.data)&&$('<div class="text-center text-danger"></div>').html("Interest not found!").appendTo(b),"success"===e.status){var t=e.data.filter(function(e){return!_.some(function(t){return e.id===t.id})});$.map(t,function(e){$('<div class="interest__item" data-id="'+e.id+'"></div>').html('<i class="'+e.icon+'"></i>                                            <span>'+e.text+"</span>").appendTo(b)})}},complete:function(){t.empty()}})):(t.empty(),b.empty())}),$.ajax({url:ajax_url,data:{action:"load_user_interest",id:"{{auth()->user()->id}}",_token:e},dataType:"JSON",type:"POST",context:this,success:function(e){"success"===e.status&&(g.val(e.interest_id.join(",")),_=e.interest,$.map(e.interest,function(e){$('<div class="interest__item_selected"></div>').html('<i data-id="'+e.id+'" class="cross__interest_btn fa fa-times"></i><i class="'+e.icon+'"></i>                                <span>'+e.text+"</span>").appendTo(y)}),$(".cross__interest_btn").click(function(){g.val("");var e=$(this).data("id");if(e){var t=_.find(t=>t.id===e),a=_.indexOf(t);_.splice(a,1),$(this).parent().remove();var i=_.map(e=>e.id);g.val(i.join(",")),$('<div class="interest__item" data-id="'+t.id+'"></div>').html('<i class="'+t.icon+'"></i>                                    <span>'+t.text+"</span>").appendTo(b)}}))}}),$(document).off("click").on("click",".interest__item",function(){var t=$(this).data("id");$.ajax({url:ajax_url,data:{action:"interest_by_id",id:t,_token:e},dataType:"JSON",type:"POST",context:this,success:function(e){"success"===e.status&&($(this).remove(),P.empty(),_.push(e.data)),setTimeout(()=>{var e=_;if(_.filter(function(t){return e.findIndex(e=>e.id==t.id)<=-1&&e.push(t),null}),!$.isEmptyObject(e)){y.empty();var t=[];$.map(e,function(e){t.push(e.id),$('<div class="interest__item_selected"></div>').html('<i data-id="'+e.id+'" class="cross__interest_btn fa fa-times"></i><i class="'+e.icon+'"></i>                                        <span>'+e.text+"</span>").appendTo(y)}),g.val(t.join(",")),$(".cross__interest_btn").click(function(){g.val("");var e=$(this).data("id");if(e){var t=_.find(t=>t.id===e),a=_.indexOf(t);_.splice(a,1),$(this).parent().remove();var i=_.map(e=>e.id);g.val(i.join(",")),$('<div class="interest__item" data-id="'+t.id+'"></div>').html('<i class="'+t.icon+'"></i>                                            <span>'+t.text+"</span>").appendTo(b)}})}},50)}})}),$("#tab-5-interest").click(function(e){var t=!0;return""==g.val()&&(P.html('<div class="text-danger">OPS! Interest is required!</div>'),t=!1),t})});
