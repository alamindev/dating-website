var autocomplete,restrictCountry=$("#register-country").val();function initMap(){var e={types:["establishment"],componentRestrictions:{country:restrictCountry}},t=document.getElementById("register-address");(autocomplete=new google.maps.places.Autocomplete(t,e)).addListener("place_changed",function(){for(var e=autocomplete.getPlace(),t={},a=0;a<e.address_components.length;a++){var r=e.address_components[a];switch(r.types[0]){case"locality":t.city=r.long_name;break;case"administrative_area_level_1":t.state=r.short_name;break;case"country":t.country=r.long_name,t.registered_country_iso_code=r.short_name}}$("#register-address").val((void 0!==t.city?t.city+", ":"")+t.state),$("#register-lat").val(e.geometry.location.lat()),$("#register-lng").val(e.geometry.location.lng())}),document.getElementById("register-country").addEventListener("change",setAutocompleteCountry),$.get("https://ipinfo.io",function(e){""==$("#register-address").val()&&$("#register-address").val(e.city);let t=e.loc.split(",");$("#register-lat").val(t[0]),$("#register-lng").val(t[1]),""==$("#register-country").val()&&$("#register-country").val(e.country)},"jsonp")}function setAutocompleteCountry(){var e=document.getElementById("register-country").value;autocomplete.setComponentRestrictions({country:e})}function startMap(){var e=document.getElementById("search__address");(autocomplete=new google.maps.places.Autocomplete(e,{types:["(cities)"]})).addListener("place_changed",function(){for(var e=autocomplete.getPlace(),t={},a=0;a<e.address_components.length;a++){var r=e.address_components[a];switch(r.types[0]){case"locality":t.city=r.long_name;break;case"administrative_area_level_1":t.state=r.short_name;break;case"country":t.country=r.short_name}}$("#search__address").val(t.country+", "+(void 0!==t.city?t.city+", ":"")+t.state)})}
